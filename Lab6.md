# Лабораторна робота No 6. Функції apply, lapply, sapply, split.


1. Створити матрицю mat з 5 стовпцями та 10 строками за допомогою matrix з випадковими даними (функція rnorm(50)).


```R
mat <- matrix(rnorm(50), ncol=5, nrow=10)
mat
```

```R
            [,1]       [,2]        [,3]       [,4]       [,5]
 [1,] -0.5896801 -0.7025663  0.44106902 -0.2472429 -0.3118952
 [2,] -0.3526462 -0.4133338  0.28455097  0.2618951 -0.1417137
 [3,] -1.0767963 -1.4644002  0.68470006 -0.3379934  0.4970704
 [4,]  0.5545939 -0.8846650 -0.79812307 -1.7891271  0.6657468
 [5,]  0.3058721  1.3075967  0.19153499 -0.8531145 -0.1728697
 [6,] -0.6756959 -1.0506028  0.02957994 -0.8643802 -1.2129382
 [7,] -0.8167360 -1.1355480 -0.35008539 -0.1396570 -0.8118810
 [8,]  2.2889571 -0.7827173  1.79701846 -0.4197915 -0.5998858
 [9,] -0.1871775  1.5711018  0.26790255 -0.2521083 -0.7895487
[10,] -0.9916397  0.6122770  0.54866339  1.8366818 -0.7419464
```

2. Знайти максимальне значення в кожному стовпці.

```R
apply(mat, 2, max)
```

```R
[1] 2.2889571 1.5711018 1.7970185 1.8366818 0.6657468
```

3. Знайти середнє (mean) значення кожного стовпця.

```R
apply(mat, 2, mean)
```

```R
[1] -0.1540948 -0.2942858  0.3096811 -0.2804838 -0.3619861
```

4. Знайти мінімальне значення в кожному рядку.


```R
apply(mat, 1, min)
```

```R
 [1] -0.7025663 -0.4133338 -1.4644002 -1.7891271 -0.8531145 -1.2129382 -1.1355480
 [8] -0.7827173 -0.7895487 -0.9916397
```

5. Відсортувати кожен стовбець таблиці.

```R
apply(mat, 2, sort))
```

```R
            [,1]       [,2]        [,3]       [,4]       [,5]
 [1,] -1.0767963 -1.4644002 -0.79812307 -1.7891271 -1.2129382
 [2,] -0.9916397 -1.1355480 -0.35008539 -0.8643802 -0.8118810
 [3,] -0.8167360 -1.0506028  0.02957994 -0.8531145 -0.7895487
 [4,] -0.6756959 -0.8846650  0.19153499 -0.4197915 -0.7419464
 [5,] -0.5896801 -0.7827173  0.26790255 -0.3379934 -0.5998858
 [6,] -0.3526462 -0.7025663  0.28455097 -0.2521083 -0.3118952
 [7,] -0.1871775 -0.4133338  0.44106902 -0.2472429 -0.1728697
 [8,]  0.3058721  0.6122770  0.54866339 -0.1396570 -0.1417137
 [9,]  0.5545939  1.3075967  0.68470006  0.2618951  0.4970704
[10,]  2.2889571  1.5711018  1.79701846  1.8366818  0.6657468
```

6. Знайти кількість значень < 0 для кожного стовпця. Використати свою функцію.

```R
f_count <- function(x) {
  return (sum(x < 0))
}
```

```R
apply(mat, 2, f_count)
```

```R
[1] 7 7 2 8 8
```

7. Вивести вектор з булевими значеннями TRUE та FALSE. TRUE, якщо в стовпці є елементи >2, FALSE – якщо немає.

```R
f_count2 <- function(x) {
  return (sum(x > 2) > 0)
}
```

```R
apply(mat, 2, f_count2)
```

```R
[1]  TRUE FALSE FALSE FALSE FALSE
```

8. Створить список list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2)). Для цього списку знайдіть sum за допомогою lapply.

```R
list1 <- list(observationA = c(1:5, 7:3), observationB = matrix(1:6, nrow=2))
list1
```
```R
$observationA
 [1] 1 2 3 4 5 7 6 5 4 3

$observationB
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
```

```R
lapply(list1, sum)
```

```R
$observationA
[1] 40

$observationB
[1] 21
```

9. Для кожного елементу списку list1 знайдіть максимальне та мінімальне значення (range) за допомогою lapply та sapply.

```R
lapply(list1, range)
```

```R
$observationA
[1] 1 7

$observationB
[1] 1 6
```

```R
sapply(list1, range)
```

```R
     observationA observationB
[1,]            1            1
[2,]            7            6
```

10.Для вбудованого набору даних InsectSprays знайти середнє count для кожного spray.

```R
grouped <- with(InsectSprays, split(count, spray))
sapply(grouped, mean)
```

```R
        A         B         C         D         E         F 
14.500000 15.333333  2.083333  4.916667  3.500000 16.666667 
```